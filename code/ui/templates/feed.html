{% extends "base.html" %}

{% block title %}Activity Feed - Communicator-Copilot{% endblock %}

{% block content %}
<h1>Activity Feed</h1>
<p>A real-time overview of your communications and AI copilot activities.</p>

<div class="feed-container">
    
    <!-- Example: Recent Call -->
    <div class="card feed-item call">
        <div class="feed-item-header">
            <span class="feed-item-icon"><i class="fas fa-phone-alt"></i></span>
            <span class="feed-item-title">Incoming Call</span>
            <span class="feed-item-time">2 minutes ago</span>
        </div>
        <div class="feed-item-body">
            <p>From: <strong>+1-555-123-4567 (John Doe)</strong></p>
            <p>Status: <span class="tag tag-success">Completed</span> | Duration: 1m 32s</p>
            <p>AI Summary: <em>Caller confirmed the meeting for 3 PM tomorrow. No action needed.</em></p>
        </div>
        <div class="feed-item-actions">
            <a href="/calls/1" class="btn btn-secondary btn-sm">View Details</a>
            <a href="#" class="btn btn-secondary btn-sm">Listen to Recording</a>
        </div>
    </div>

    <!-- Example: Recent Text Message -->
    <div class="card feed-item text">
        <div class="feed-item-header">
            <span class="feed-item-icon"><i class="fas fa-sms"></i></span>
            <span class="feed-item-title">New Text Message</span>
            <span class="feed-item-time">15 minutes ago</span>
        </div>
        <div class="feed-item-body">
            <p>From: <strong>+1-555-987-6543 (Logistics Inc.)</strong></p>
            <p>"Your package is out for delivery and will arrive today."</p>
            <p>AI Analysis: <em>Informational message. Marked as low priority.</em></p>
        </div>
        <div class="feed-item-actions">
            <a href="/texts/3" class="btn btn-secondary btn-sm">View Conversation</a>
        </div>
    </div>

    <!-- Example: New AI Instruction Added -->
    <div class="card feed-item instruction">
        <div class="feed-item-header">
            <span class="feed-item-icon"><i class="fas fa-robot"></i></span>
            <span class="feed-item-title">AI Instruction Created</span>
            <span class="feed-item-time">1 hour ago</span>
        </div>
        <div class="feed-item-body">
            <p>Title: <strong>Block marketing calls</strong></p>
            <p>Instruction: <em>"If the call is a sales pitch or marketing, politely decline and end the call."</em></p>
            <p>Priority: <span class="tag tag-warning">High</span> | Type: <span class="tag">Call-Specific</span></p>
        </div>
        <div class="feed-item-actions">
            <a href="/instructions" class="btn btn-secondary btn-sm">Manage Instructions</a>
        </div>
    </div>

    <!-- This part would be dynamically generated by the backend -->
    {% for item in feed_items %}
    <div class="card feed-item {{ item.type }}">
        <!-- ... content rendered dynamically ... -->
    </div>
    {% else %}
    <div class="card">
        <p>No recent activity to display. The feed will update as calls, texts, and instructions occur.</p>
    </div>
    {% endfor %}

</div>
{% endblock %}