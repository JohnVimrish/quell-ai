import{a as y,u as j,r as s,j as e,N as v}from"./main-DdieF_OH.js";import{e as w,F as N}from"./publicTheme-C4hke2-P.js";function k(...l){return l.filter(Boolean).join(" ")}function E(){const{login:l}=y(),b=j(),[n,h]=s.useState(""),[d,p]=s.useState(""),[a,c]=s.useState(!1),[u,o]=s.useState(null);s.useEffect(()=>{w()},[]);const f=async r=>{if(r.preventDefault(),a)return;c(!0),o(null);let m=!1,x;try{const i=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:n.trim(),password:d})}),t=await i.json().catch(()=>({}));if(!i.ok||t&&typeof t.error=="string"){const g=t&&typeof t.error=="string"?t.error:"Login failed. Please check your credentials and try again.";o(g);return}t&&typeof t.redirect_url=="string"&&(x=t.redirect_url),m=!0}catch{o("Unable to reach the server. Please try again.")}finally{c(!1)}m&&l(x)};return e.jsx("div",{className:"bg-light-background font-sans text-dark-text antialiased",children:e.jsxs("div",{className:"relative min-h-screen w-full overflow-x-hidden",children:[e.jsx(N,{}),e.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx(v,{}),e.jsx("main",{className:"flex justify-center py-24",children:e.jsxs("div",{className:"w-full max-w-xl rounded-xl border border-border-grey bg-white/80 p-8 shadow-xl backdrop-blur-md sm:p-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-dark-text",children:"Welcome Back"}),e.jsx("p",{className:"mt-3 text-base text-light-text",children:"Sign in to continue your Quell AI journey."})]}),e.jsxs("form",{className:"mt-10 space-y-6",onSubmit:f,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-dark-text",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:r=>h(r.target.value),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-dark-text",children:"Password"}),e.jsx("input",{id:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:r=>p(r.target.value),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"********"})]}),u&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:u}),e.jsx("button",{type:"submit",disabled:a,className:k("mt-4 flex h-12 w-full cursor-pointer items-center justify-center rounded-md border border-primary-blue/30 bg-primary-blue text-base font-bold text-white shadow-lg shadow-primary-blue/20 transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-blue/50",a?"opacity-70":"hover:scale-105 hover:bg-hover-blue"),children:a?"Signing In...":"Sign In"})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-light-text",children:[e.jsx("span",{children:"Don't have an account?"})," ",e.jsx("button",{type:"button",className:"font-semibold text-primary-blue transition-colors hover:text-hover-blue",onClick:()=>b("/signup"),children:"Create one"})]})]})})]})]})})}export{E as default};
