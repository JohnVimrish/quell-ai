import{r as i,j as e}from"./main-BY7oEhUj.js";function m(){const[t,o]=i.useState([]),[a,r]=i.useState(!0),[n,c]=i.useState(null);return i.useEffect(()=>{let s=!0;async function d(){r(!0),c(null);try{const l=await fetch("/api/documents",{credentials:"include"});if(!l.ok)throw new Error(`request failed: ${l.status}`);const h=await l.json();s&&o(h.documents)}catch(l){s&&c(l instanceof Error?l.message:"unknown error")}finally{s&&r(!1)}}return d(),()=>{s=!1}},[]),e.jsxs("div",{className:"section-padding",children:[e.jsxs("div",{className:"glass-panel",style:{padding:"48px",marginBottom:"32px"},children:[e.jsx("h1",{className:"page-title",children:"Document Guardrails"}),e.jsx("p",{className:"page-intro",children:"Control which briefs, decks, and FAQs the AI can surface in meetings or chat. Policies follow every channel automatically."})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"32px",marginBottom:"32px"},children:[e.jsx("h2",{className:"panel-title",children:"Policy snapshot"}),e.jsxs("div",{className:"bullet-columns",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"bullet-heading",children:"Sharing heuristics"}),e.jsxs("ul",{className:"bullet-list",children:[e.jsx("li",{children:"Auto-share only with verified attendees or internal domains."}),e.jsx("li",{children:'Context tags (for example, "budget review") map instructions to files.'}),e.jsx("li",{children:"One-click revoke stops AI usage but keeps audit logs."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"bullet-heading",children:"Audit highlights"}),e.jsxs("ul",{className:"bullet-list",children:[e.jsx("li",{children:"Every share is logged with session metadata for audits."}),e.jsx("li",{children:"Voice disclosure and document policy rely on the same toggle."}),e.jsx("li",{children:"Retention timers clean up sensitive assets automatically."})]})]})]})]}),e.jsxs("div",{className:"glass-panel",style:{padding:"32px"},children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{className:"panel-title",children:"Managed documents"}),e.jsx("span",{className:"panel-subtitle",children:"Define the approved corpus the AI can reference or share."})]}),a&&e.jsx("p",{children:"Loading documents..."}),!a&&n&&e.jsx("p",{role:"alert",children:n}),!a&&!n&&t.length===0&&e.jsx("p",{children:"No documents saved yet. Upload a briefing pack or link a shared drive item to start."}),!a&&!n&&t.length>0&&e.jsxs("div",{className:"table",role:"table",children:[e.jsxs("div",{className:"table-row table-header",role:"row",children:[e.jsx("span",{role:"columnheader",children:"Name"}),e.jsx("span",{role:"columnheader",children:"Classification"}),e.jsx("span",{role:"columnheader",children:"Contexts"}),e.jsx("span",{role:"columnheader",children:"Recipients"}),e.jsx("span",{role:"columnheader",children:"Shareable"})]}),t.map(s=>e.jsxs("div",{className:"table-row",role:"row",children:[e.jsx("span",{role:"cell",children:s.name}),e.jsx("span",{role:"cell",children:s.classification||s.sensitivity_level||"internal"}),e.jsx("span",{role:"cell",children:s.allowed_contexts&&s.allowed_contexts.length>0?s.allowed_contexts.join(", "):"all meetings"}),e.jsx("span",{role:"cell",children:s.allowed_recipients&&s.allowed_recipients.length>0?s.allowed_recipients.join(", "):"trusted contacts"}),e.jsx("span",{role:"cell",children:s.shareable?"Enabled":"Restricted"})]},s.id))]})]})]})}export{m as default};
