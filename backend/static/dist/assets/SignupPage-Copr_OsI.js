import{a as N,u as k,r as l,j as e,F as C}from"./main-C3MwaQcz.js";import{e as P}from"./publicTheme-DMQodtD7.js";function b(...m){return m.filter(Boolean).join(" ")}function F(){const{login:m,engage:g}=N(),a=k(),[t,y]=l.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[i,p]=l.useState(!1),[h,n]=l.useState(null),[d,v]=l.useState("about");l.useEffect(()=>{P()},[]);const f=s=>{v(s),a(s==="about"?"/":"/labs/dev-playground")},o=s=>c=>{y(u=>({...u,[s]:c.target.value}))},w=async s=>{if(s.preventDefault(),i)return;if(t.password!==t.confirmPassword){n("Passwords do not match.");return}p(!0),n(null);let c=!1,u;try{const x=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t.name.trim(),email:t.email.trim(),phone:t.phone.trim()||void 0,password:t.password})}),r=await x.json().catch(()=>({}));if(!x.ok||r&&typeof r.error=="string"){const j=r&&typeof r.error=="string"?r.error:"Signup failed. Please try again.";n(j);return}r&&typeof r.redirect_url=="string"&&(u=r.redirect_url),c=!0}catch{n("Unable to reach the server. Please try again.")}finally{p(!1)}c&&m(u)};return e.jsx("div",{className:"bg-light-background font-sans text-dark-text antialiased",children:e.jsxs("div",{className:"relative min-h-screen w-full overflow-x-hidden",children:[e.jsx(C,{}),e.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("header",{className:"sticky top-6 z-50 mt-6 grid h-16 grid-cols-3 items-center rounded-lg border border-border-grey bg-light-background/90 px-4 shadow-md backdrop-blur-md sm:px-6",children:[e.jsxs("div",{className:"flex items-center gap-3 justify-self-start",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-primary-blue/10 text-primary-blue",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z",fill:"currentColor"})})}),e.jsx("button",{type:"button",className:"hidden text-xl font-bold text-dark-text sm:block",onClick:()=>a("/"),children:"Quell AI"})]}),e.jsxs("nav",{className:"hidden items-center justify-center gap-2 justify-self-center md:flex",children:[e.jsx("button",{type:"button",className:b("nav-3d rounded-md px-4 py-2 text-sm font-semibold text-light-text transition-all hover:bg-primary-blue/10 hover:text-primary-blue focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-blue/50",d==="about"&&"active-nav"),"aria-current":d==="about"?"page":void 0,onClick:()=>f("about"),children:"About"}),e.jsx("button",{type:"button",className:b("nav-3d rounded-md px-4 py-2 text-sm font-semibold text-light-text transition-all hover:bg-primary-blue/10 hover:text-primary-blue focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-blue/50",d==="lab"&&"active-nav"),"aria-current":d==="lab"?"page":void 0,onClick:()=>f("lab"),children:"Conversation Lab"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-self-end",children:[e.jsx("button",{type:"button",className:"btn-3d hidden h-10 cursor-pointer items-center justify-center rounded-md border border-primary-blue/30 bg-white/80 px-5 text-sm font-bold text-dark-text shadow-lg hover:bg-primary-blue/10 hover:text-primary-blue sm:flex",onClick:()=>a("/login"),children:"Log In"}),e.jsx("button",{type:"button",className:"flex h-10 min-w-[108px] cursor-pointer items-center justify-center overflow-hidden rounded-md border border-primary-blue/30 bg-primary-blue px-5 text-sm font-bold text-white shadow-lg shadow-primary-blue/20 transition-all hover:scale-105 hover:bg-hover-blue",onClick:()=>g(),children:"Access Portal"})]})]}),e.jsx("main",{className:"flex justify-center py-24",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-border-grey bg-white/80 p-8 shadow-xl backdrop-blur-md sm:p-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-dark-text",children:"Create your account"}),e.jsx("p",{className:"mt-3 text-base text-light-text",children:"Join Quell AI to orchestrate every conversation with precision."})]}),e.jsxs("form",{className:"mt-10 space-y-6",onSubmit:w,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-dark-text",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",autoComplete:"name",required:!0,value:t.name,onChange:o("name"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"Ada Lovelace"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-dark-text",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:o("email"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-dark-text",children:["Phone Number ",e.jsx("span",{className:"font-normal text-light-text",children:"(optional)"})]}),e.jsx("input",{id:"phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:t.phone,onChange:o("phone"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"(555) 123-4567"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-dark-text",children:"Password"}),e.jsx("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,minLength:8,value:t.password,onChange:o("password"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"At least 8 characters"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-dark-text",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:o("confirmPassword"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"Repeat your password"})]})]}),h&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:h}),e.jsx("button",{type:"submit",disabled:i,className:b("mt-4 flex h-12 w-full cursor-pointer items-center justify-center rounded-md border border-primary-blue/30 bg-primary-blue text-base font-bold text-white shadow-lg shadow-primary-blue/20 transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-blue/50",i?"opacity-70":"hover:scale-105 hover:bg-hover-blue"),children:i?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-light-text",children:[e.jsx("span",{children:"Already have an account?"})," ",e.jsx("button",{type:"button",className:"font-semibold text-primary-blue transition-colors hover:text-hover-blue",onClick:()=>a("/login"),children:"Log in instead"})]})]})})]})]})})}export{F as default};
