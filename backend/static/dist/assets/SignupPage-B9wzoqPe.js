import{a as g,u as y,r as n,j as e,N as w}from"./main-twaqvZcK.js";import{e as j,F as v}from"./publicTheme-BcOtk12-.js";function N(...d){return d.filter(Boolean).join(" ")}function P(){const{login:d}=g(),p=y(),[t,h]=n.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[a,u]=n.useState(!1),[x,o]=n.useState(null);n.useEffect(()=>{j()},[]);const s=c=>l=>{h(i=>({...i,[c]:l.target.value}))},b=async c=>{if(c.preventDefault(),a)return;if(t.password!==t.confirmPassword){o("Passwords do not match.");return}u(!0),o(null);let l=!1,i;try{const m=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t.name.trim(),email:t.email.trim(),phone:t.phone.trim()||void 0,password:t.password})}),r=await m.json().catch(()=>({}));if(!m.ok||r&&typeof r.error=="string"){const f=r&&typeof r.error=="string"?r.error:"Signup failed. Please try again.";o(f);return}r&&typeof r.redirect_url=="string"&&(i=r.redirect_url),l=!0}catch{o("Unable to reach the server. Please try again.")}finally{u(!1)}l&&d(i)};return e.jsx("div",{className:"bg-light-background font-sans text-dark-text antialiased",children:e.jsxs("div",{className:"relative min-h-screen w-full overflow-x-hidden",children:[e.jsx(v,{}),e.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx(w,{}),e.jsx("main",{className:"flex justify-center py-24",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-xl border border-border-grey bg-white/80 p-8 shadow-xl backdrop-blur-md sm:p-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-dark-text",children:"Create your account"}),e.jsx("p",{className:"mt-3 text-base text-light-text",children:"Join Quell AI to orchestrate every conversation with precision."})]}),e.jsxs("form",{className:"mt-10 space-y-6",onSubmit:b,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-dark-text",children:"Full Name"}),e.jsx("input",{id:"name",type:"text",autoComplete:"name",required:!0,value:t.name,onChange:s("name"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"Ada Lovelace"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-dark-text",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:s("email"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-dark-text",children:["Phone Number ",e.jsx("span",{className:"font-normal text-light-text",children:"(optional)"})]}),e.jsx("input",{id:"phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:t.phone,onChange:s("phone"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"(555) 123-4567"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-dark-text",children:"Password"}),e.jsx("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,minLength:8,value:t.password,onChange:s("password"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"At least 8 characters"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-dark-text",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:s("confirmPassword"),className:"mt-2 w-full rounded-md border border-border-grey bg-white/80 px-4 py-3 text-dark-text placeholder:text-light-text focus:border-primary-blue focus:outline-none focus:ring-2 focus:ring-primary-blue/40",placeholder:"Repeat your password"})]})]}),x&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:x}),e.jsx("button",{type:"submit",disabled:a,className:N("mt-4 flex h-12 w-full cursor-pointer items-center justify-center rounded-md border border-primary-blue/30 bg-primary-blue text-base font-bold text-white shadow-lg shadow-primary-blue/20 transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-blue/50",a?"opacity-70":"hover:scale-105 hover:bg-hover-blue"),children:a?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-light-text",children:[e.jsx("span",{children:"Already have an account?"})," ",e.jsx("button",{type:"button",className:"font-semibold text-primary-blue transition-colors hover:text-hover-blue",onClick:()=>p("/login"),children:"Log in instead"})]})]})})]})]})})}export{P as default};
